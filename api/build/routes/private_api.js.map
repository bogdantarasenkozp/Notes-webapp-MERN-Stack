{"version":3,"sources":["../../src/routes/private_api.js"],"names":["router","api","prefix","get","ctx","next","getAllNotes","body","user_id","params","id","res","console","log","post","req_data","request","addNote","put","updateNote","delete","deleteNote","username","state","user","getAllUserData"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;;;kBAEe,UAACA,MAAD,EAAY;AAC1B,KAAMC,MAAM,KAAZ;AACAD,QAAOE,MAAP,OAAkBD,GAAlB;;AAECD,QAAOG,GAAP,CAAW,GAAX;AAAA,uDAAe,iBAAOC,GAAP,EAAWC,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cACK,gBAAUC,WAAV,EADL;;AAAA;AACZF,WAAIG,IADQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAf;;AAAA;AAAA;AAAA;AAAA,OAIAP,OAAOG,GAAP,CAAW,iBAAX;AAAA,wDAA6B,kBAAOC,GAAP,EAAWC,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AACxBG,cADwB,GACdJ,IAAIK,MAAJ,CAAWC,EADG;AAAA;AAAA,cAEZ,gBAAUJ,WAAV,CAAuBE,OAAvB,CAFY;;AAAA;AAExBG,UAFwB;;AAG5BP,WAAIG,IAAJ,GAAWI,GAAX;AACAC,eAAQC,GAAR,CAAY,eAAZ;;AAJ4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA7B;;AAAA;AAAA;AAAA;AAAA,KAJA,EAWAb,OAAOc,IAAP,CAAY,YAAZ;AAAA,wDAAyB,kBAAOV,GAAP,EAAWC,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AACpBU,eADoB,GACTX,IAAIY,OAAJ,CAAYT,IADH;AAExB;;AAFwB;AAAA,cAGP,gBAAUU,OAAV,CAAmBF,QAAnB,CAHO;;AAAA;AAGxBX,WAAIG,IAHoB;;AAIxBK,eAAQC,GAAR,CAAY,cAAZ;;AAJwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAzB;;AAAA;AAAA;AAAA;AAAA,KAXA,EAkBAb,OAAOkB,GAAP,CAAW,mBAAX;AAAA,wDAA+B,kBAAOd,GAAP,EAAWC,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAC1BU,eAD0B,GACfX,IAAIY,OAAJ,CAAYT,IADG;AAAA;AAAA,cAEb,gBAAUY,UAAV,CAAsBf,IAAIK,MAAJ,CAAWC,EAAjC,EAAoCK,QAApC,CAFa;;AAAA;AAE9BX,WAAIG,IAF0B;;AAG9BK,eAAQC,GAAR,CAAY,iBAAZ;;AAH8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA/B;;AAAA;AAAA;AAAA;AAAA,KAlBA,EAwBAb,OAAOoB,MAAP,CAAc,mBAAd;AAAA,wDAAkC,kBAAOhB,GAAP,EAAWC,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAChB,gBAAUgB,UAAV,CAAsBjB,IAAIK,MAAJ,CAAWC,EAAjC,CADgB;;AAAA;AACjCN,WAAIG,IAD6B;;AAEjCK,eAAQC,GAAR,CAAY,iBAAZ;;AAFiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlC;;AAAA;AAAA;AAAA;AAAA,KAxBA,EA6BAb,OAAOG,GAAP,CAAW,KAAX;AAAA,wDAAiB,kBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACZkB,eADY,GACDlB,IAAImB,KAAJ,CAAUC,IAAV,CAAeA,IAAf,CAAoBF,QADnB;AAAA;AAAA,cAEC,eAAUG,cAAV,CAA0BH,QAA1B,CAFD;;AAAA;AAEhBlB,WAAIG,IAFY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAAA;AAAA;AAAA;AAAA,KA7BA;;AAkCD,QAAOP,MAAP;AACA,C","file":"private_api.js","sourcesContent":["import NoteModel from '../methods/Notes';\nimport UserModel from '../methods/User';\n\nexport default (router) => {\n\tconst api = 'api';\n\trouter.prefix(`/${api}`);\n\n\t\trouter.get('/',async (ctx,next) =>{\n\t    ctx.body = await NoteModel.getAllNotes ();\n\t  }),\n\n\t\trouter.get('/notes/user/:id',async (ctx,next) => {\n\t\t\tlet user_id = ctx.params.id;\n\t\t\tlet res = await NoteModel.getAllNotes (user_id);\n\t\t\tctx.body = res;\n\t\t\tconsole.log('api all notes')\n\t\t}),\n\n\t\trouter.post('/notes/add',async (ctx,next) => {\n\t\t\tlet req_data = ctx.request.body;\n\t\t\t//console.log(req_data)\n\t\t\tctx.body = await NoteModel.addNote (req_data);\n\t\t\tconsole.log('api add note');\n\t\t}),\n\n\t\trouter.put('/notes/update/:id',async (ctx,next) => {\n\t\t\tlet req_data = ctx.request.body;\n\t\t\tctx.body = await NoteModel.updateNote (ctx.params.id,req_data);\n\t\t\tconsole.log('api update note');\n\t\t}),\n\n\t\trouter.delete('/notes/delete/:id',async (ctx,next) => {\n\t\t\tctx.body = await NoteModel.deleteNote (ctx.params.id);\n\t\t\tconsole.log('api delete note')\n\t\t}),\n\n\t\trouter.get(\"/me\",async (ctx) => {\n\t\t\tlet username = ctx.state.user.user.username;\n\t\t\tctx.body = await UserModel.getAllUserData (username);\n\t\t})\n\n\treturn router;\n}\n"]}